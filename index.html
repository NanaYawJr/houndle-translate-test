<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Houndle Translate Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind for styling (optional) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Hide Google Translate banner and styling -->
  <style>
    .goog-te-banner-frame.skiptranslate {
      display: none !important;
    }

    body {
      top: 0px !important;
    }

    .goog-tooltip, .goog-tooltip:hover, .goog-text-highlight {
      display: none !important;
      background: none !important;
      box-shadow: none !important;
    }

    #google_translate_element {
      display: none;
    }
  </style>

  <!-- Google Translate script -->
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: 'en,fr,es,de,zh-CN',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
      }, 'google_translate_element');
    }
  </script>
  <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head>

<body class="p-8 font-sans text-gray-900">

  <!-- Hidden Google Translate container -->
  <div id="google_translate_element"></div>

  <!-- Custom language switcher -->
  <h1 class="text-3xl font-bold mb-4">üåç Custom Language Switcher</h1>
  <p class="mb-6">This is a test page for using Google Translate with a custom dropdown.</p>

  <label for="languageSwitcher" class="font-medium">Select Language:</label>
  <select id="languageSwitcher" class="border px-4 py-2 rounded">
    <option value="en">English</option>
    <option value="fr">Fran√ßais</option>
    <option value="es">Espa√±ol</option>
    <option value="de">Deutsch</option>
    <option value="zh-CN">‰∏≠Êñá</option>
  </select>

  <script>
    document.getElementById('languageSwitcher').addEventListener('change', function () {
      const lang = this.value;

      const interval = setInterval(() => {
        const iframe = document.querySelector('iframe.goog-te-menu-frame');
        if (!iframe) return;

        const innerDoc = iframe.contentDocument || iframe.contentWindow.document;
        const langButtons = innerDoc.querySelectorAll('.goog-te-menu2-item span.text');

        langButtons.forEach(span => {
          if (span.innerText.toLowerCase().includes(lang.toLowerCase())) {
            span.click();
            clearInterval(interval);
          }
        });
      }, 300);
    });
  </script>

</body>
</html>
